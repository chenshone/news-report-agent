# ğŸ“– çƒ­ç‚¹èµ„è®¯èšåˆ Agentic AI - é¡¹ç›®å®Œæ•´ä»‹ç»

> åŸºäº LangGraph + DeepAgents çš„æ™ºèƒ½æ–°é—»åˆ†æç³»ç»Ÿ

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
3. [æ ¸å¿ƒä»£ç ç»“æ„](#æ ¸å¿ƒä»£ç ç»“æ„)
4. [å››å¤§ Agentic AI èŒƒå¼å®ç°](#å››å¤§-agentic-ai-èŒƒå¼å®ç°)
5. [å·¥ä½œæµç¨‹è¯¦è§£](#å·¥ä½œæµç¨‹è¯¦è§£)
6. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
7. [æ‰©å±•å¼€å‘æŒ‡å—](#æ‰©å±•å¼€å‘æŒ‡å—)

---

## é¡¹ç›®æ¦‚è¿°

### æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ä¸€ä¸ªèåˆ **è§„åˆ’ï¼ˆPlanningï¼‰**ã€**åæ€ï¼ˆReflectionï¼‰**ã€**å·¥å…·ä½¿ç”¨ï¼ˆTool Useï¼‰**ã€**å¤šæ™ºèƒ½ä½“åä½œï¼ˆMACï¼‰** å››å¤§ Agentic AI èŒƒå¼çš„æ™ºèƒ½æ–°é—»åˆ†æç³»ç»Ÿã€‚ç”¨æˆ·åªéœ€è¾“å…¥ä¸€ä¸ªæŸ¥è¯¢ï¼ˆå¦‚"ä»Šå¤©AIé¢†åŸŸæœ‰ä»€ä¹ˆè¿›å±•"ï¼‰ï¼Œç³»ç»Ÿå³å¯è‡ªåŠ¨å®Œæˆï¼š

1. **æ™ºèƒ½æœç´¢**ï¼šé€šè¿‡ Tavily API è·å–ç›¸å…³æ–°é—»
2. **å†…å®¹ç­›é€‰**ï¼šè‡ªåŠ¨è¯„ä¼°å¯ä¿¡åº¦å’Œç›¸å…³æ€§
3. **å¤šç»´åº¦åˆ†æ**ï¼šæ´¾å‘å¤šä¸ªä¸“å®¶ Agent è¿›è¡Œæ·±åº¦åˆ†æ
4. **æŠ¥å‘Šç”Ÿæˆ**ï¼šæ•´åˆåˆ†æç»“æœï¼Œè¾“å‡º Markdown æ ¼å¼æŠ¥å‘Š

### æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | æè¿° |
|------|------|
| ğŸ¯ **è‡ªä¸»è§„åˆ’** | Agent è‡ªåŠ¨åˆ†è§£ä»»åŠ¡ï¼Œä½¿ç”¨ `write_todos` åˆ›å»ºæ‰§è¡Œè®¡åˆ’ |
| ğŸ” **è‡ªæˆ‘åæ€** | åœ¨å…³é”®èŠ‚ç‚¹è¯„ä¼°ç»“æœè´¨é‡ï¼ŒåŠ¨æ€è°ƒæ•´ç­–ç•¥ |
| ğŸ› ï¸ **å·¥å…·ä¸°å¯Œ** | æœç´¢ã€æŠ“å–ã€è¯„ä¼°ç­‰é¢†åŸŸå·¥å…·é“¾ |
| ğŸ‘¥ **ä¸“å®¶åä½œ** | 6 ä¸ªä¸“å®¶å­ Agent åä½œåˆ†æ |
| ğŸ“ **ç»“æ„åŒ–è¾“å‡º** | è‡ªåŠ¨ç”Ÿæˆ Markdown æ ¼å¼åˆ†ææŠ¥å‘Š |

### æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       åº”ç”¨å±‚                                â”‚
â”‚  CLI (cli/main.py)  â”‚  Python API (src/agent/master.py)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Agent æ¡†æ¶å±‚                            â”‚
â”‚        DeepAgents + LangGraph + LangChain                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      å·¥å…·å±‚                                 â”‚
â”‚  search.py â”‚ scraper.py â”‚ evaluator.py â”‚ å†…ç½®æ–‡ä»¶ç³»ç»Ÿå·¥å…·   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     LLM æä¾›å•†                              â”‚
â”‚         OpenAI API  â”‚  Azure OpenAI                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     å¤–éƒ¨æœåŠ¡                                â”‚
â”‚              Tavily Search API                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚    ç”¨æˆ·æŸ¥è¯¢        â”‚
                          â”‚  "ä»Šå¤©AIæœ‰ä»€ä¹ˆè¿›å±•" â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          MasterAgent (ä¸»æ§)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç³»ç»Ÿæç¤ºè¯ (prompts.py)                                           â”‚   â”‚
â”‚  â”‚ - è§’è‰²å®šä¹‰ï¼šçƒ­ç‚¹èµ„è®¯åˆ†ææ™ºèƒ½ä½“                                      â”‚   â”‚
â”‚  â”‚ - å·¥ä½œæµç¨‹ï¼š7 æ­¥æ³•                                                 â”‚   â”‚
â”‚  â”‚ - åæ€æ£€æŸ¥ç‚¹ï¼šæœç´¢åã€ç­›é€‰åã€åˆ†æå                                 â”‚   â”‚
â”‚  â”‚ - æŠ¥å‘Šæ ¼å¼è¦æ±‚                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   è§„åˆ’å·¥å…·       â”‚  â”‚   è‡ªå®šä¹‰å·¥å…·     â”‚  â”‚   å†…ç½®å·¥å…·       â”‚         â”‚
â”‚  â”‚ â€¢ write_todos   â”‚  â”‚ â€¢ internet_searchâ”‚  â”‚ â€¢ write_file   â”‚         â”‚
â”‚  â”‚ â€¢ read_todos    â”‚  â”‚ â€¢ fetch_page    â”‚  â”‚ â€¢ read_file    â”‚         â”‚
â”‚  â”‚                 â”‚  â”‚ â€¢ evaluate_*    â”‚  â”‚ â€¢ ls / grep    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å¤šæ™ºèƒ½ä½“åä½œ (task() æ´¾å‘)                                         â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚ â”‚query_plannerâ”‚ â”‚ summarizer  â”‚ â”‚fact_checker â”‚ â”‚ researcher  â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ æŸ¥è¯¢è§„åˆ’     â”‚ â”‚ æ‘˜è¦æå–    â”‚ â”‚ äº‹å®æ ¸æŸ¥    â”‚ â”‚ èƒŒæ™¯ç ”ç©¶    â”‚  â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚ â”‚impact_assessâ”‚ â”‚        expert_supervisor (ä¸“å®¶ä¸»ç®¡)         â”‚  â”‚   â”‚
â”‚  â”‚ â”‚ å½±å“è¯„ä¼°    â”‚ â”‚  å®¡æ ¸åˆ†æç»“æœã€åè°ƒè®¨è®ºã€ç¡®è®¤æ•´åˆå†…å®¹         â”‚  â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   Markdown æŠ¥å‘Š    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµ

```
1. ç”¨æˆ·è¾“å…¥ â†’ CLI/API æ¥å£
         â†“
2. åˆ›å»º MasterAgent (master.py)
   - åŠ è½½é…ç½® (config.py)
   - åˆå§‹åŒ–å·¥å…· (tools/)
   - é…ç½®å­ Agent (subagents.py)
         â†“
3. MasterAgent æ‰§è¡Œ
   â”œâ”€â”€ è§„åˆ’é˜¶æ®µï¼šè°ƒç”¨ query_planner ç”Ÿæˆæœç´¢ç­–ç•¥
   â”œâ”€â”€ æœç´¢é˜¶æ®µï¼šinternet_search è·å–å€™é€‰å†…å®¹
   â”œâ”€â”€ ç­›é€‰é˜¶æ®µï¼ševaluate_credibility/relevance è¿‡æ»¤
   â”œâ”€â”€ åˆ†æé˜¶æ®µï¼štask() æ´¾å‘å„ä¸“å®¶åˆ†æ
   â”œâ”€â”€ å®¡æ ¸é˜¶æ®µï¼šexpert_supervisor è´¨é‡æŠŠå…³
   â””â”€â”€ æ•´åˆé˜¶æ®µï¼šç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š
         â†“
4. è¾“å‡ºæŠ¥å‘Š â†’ ç»ˆç«¯/æ–‡ä»¶
```

---

## æ ¸å¿ƒä»£ç ç»“æ„

```
news-report-agent/
â”‚
â”œâ”€â”€ cli/                          # å‘½ä»¤è¡Œæ¥å£
â”‚   â””â”€â”€ main.py                   # CLI å…¥å£ (news-agent å‘½ä»¤)
â”‚
â”œâ”€â”€ src/                          # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ config.py                 # ğŸ“¦ é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ModelConfig           # æ¨¡å‹é…ç½®ç±»
â”‚   â”‚   â”œâ”€â”€ AppConfig             # åº”ç”¨é…ç½®ç±»
â”‚   â”‚   â”œâ”€â”€ load_settings()       # ä»ç¯å¢ƒåŠ è½½é…ç½®
â”‚   â”‚   â””â”€â”€ create_chat_model()   # åˆ›å»º LangChain æ¨¡å‹å®ä¾‹
â”‚   â”‚
â”‚   â”œâ”€â”€ models.py                 # ğŸ“¦ æ•°æ®æ¨¡å‹ (Pydantic v2)
â”‚   â”‚   â”œâ”€â”€ NewsItem              # æ–°é—»æ¡ç›®
â”‚   â”‚   â”œâ”€â”€ ScoreBreakdown        # è¯„åˆ†æ˜ç»†
â”‚   â”‚   â”œâ”€â”€ AnalysisResult        # åˆ†æç»“æœ
â”‚   â”‚   â””â”€â”€ IntegratedSummary     # æ•´åˆæ‘˜è¦
â”‚   â”‚
â”‚   â”œâ”€â”€ agent/                    # ğŸ¤– Agent æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ __init__.py           # å¯¼å‡º create_news_agent
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ master.py             # MasterAgent å·¥å‚
â”‚   â”‚   â”‚   â”œâ”€â”€ create_news_agent()        # ä¸»è¦åˆ›å»ºå‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ format_datetime_context()  # æ—¥æœŸæ—¶é—´ä¸Šä¸‹æ–‡
â”‚   â”‚   â”‚   â””â”€â”€ create_news_agent_with_checkpointing()  # å¸¦çŠ¶æ€æŒä¹…åŒ–
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ prompts.py            # ç³»ç»Ÿæç¤ºè¯
â”‚   â”‚   â”‚   â””â”€â”€ MASTER_AGENT_SYSTEM_PROMPT  # ä¸» Agent æç¤ºè¯
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ subagents.py          # ä¸“å®¶å­ Agent é…ç½®
â”‚   â”‚       â”œâ”€â”€ get_subagent_configs()  # è·å–æ‰€æœ‰å­ Agent é…ç½®
â”‚   â”‚       â”œâ”€â”€ QUERY_PLANNER_PROMPT    # æŸ¥è¯¢è§„åˆ’ä¸“å®¶æç¤ºè¯
â”‚   â”‚       â”œâ”€â”€ SUMMARIZER_PROMPT       # æ‘˜è¦ä¸“å®¶æç¤ºè¯
â”‚   â”‚       â”œâ”€â”€ FACT_CHECKER_PROMPT     # äº‹å®æ ¸æŸ¥ä¸“å®¶æç¤ºè¯
â”‚   â”‚       â”œâ”€â”€ RESEARCHER_PROMPT       # èƒŒæ™¯ç ”ç©¶ä¸“å®¶æç¤ºè¯
â”‚   â”‚       â”œâ”€â”€ IMPACT_ASSESSOR_PROMPT  # å½±å“è¯„ä¼°ä¸“å®¶æç¤ºè¯
â”‚   â”‚       â””â”€â”€ EXPERT_SUPERVISOR_PROMPT # ä¸“å®¶ä¸»ç®¡æç¤ºè¯
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/                    # ğŸ› ï¸ è‡ªå®šä¹‰å·¥å…·
â”‚   â”‚   â”œâ”€â”€ __init__.py           # å·¥å…·å¯¼å‡º
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ search.py             # äº’è”ç½‘æœç´¢
â”‚   â”‚   â”‚   â”œâ”€â”€ internet_search()       # Tavily æœç´¢ (åŒæ­¥)
â”‚   â”‚   â”‚   â””â”€â”€ internet_search_async() # Tavily æœç´¢ (å¼‚æ­¥)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ scraper.py            # ç½‘é¡µæŠ“å–
â”‚   â”‚   â”‚   â”œâ”€â”€ fetch_page()            # æŠ“å–é¡µé¢å†…å®¹ (åŒæ­¥)
â”‚   â”‚   â”‚   â””â”€â”€ fetch_page_async()      # æŠ“å–é¡µé¢å†…å®¹ (å¼‚æ­¥)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ evaluator.py          # å†…å®¹è¯„ä¼°
â”‚   â”‚       â”œâ”€â”€ evaluate_credibility()  # è¯„ä¼°æ¥æºå¯ä¿¡åº¦
â”‚   â”‚       â””â”€â”€ evaluate_relevance()    # è¯„ä¼°å†…å®¹ç›¸å…³æ€§
â”‚   â”‚
â”‚   â””â”€â”€ utils/                    # ğŸ”§ å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ logger.py             # æ—¥å¿—é…ç½® (loguru)
â”‚       â”œâ”€â”€ callbacks.py          # LangChain å›è°ƒå¤„ç†å™¨
â”‚       â”‚   â”œâ”€â”€ AgentProgressCallback      # æ‰§è¡Œè¿›åº¦æ—¥å¿—
â”‚       â”‚   â”œâ”€â”€ StreamingProgressCallback  # æµå¼è¾“å‡º
â”‚       â”‚   â””â”€â”€ get_default_callbacks()    # é»˜è®¤å›è°ƒ
â”‚       â””â”€â”€ templates.py          # æŠ¥å‘Šæ¨¡æ¿
â”‚           â”œâ”€â”€ format_markdown_report()   # Markdown æŠ¥å‘Šæ ¼å¼åŒ–
â”‚           â””â”€â”€ format_simple_output()     # ç®€å•æ–‡æœ¬è¾“å‡º
â”‚
â”œâ”€â”€ tests/                        # ğŸ§ª æµ‹è¯•
â”‚   â”œâ”€â”€ conftest.py               # pytest é…ç½®
â”‚   â”œâ”€â”€ agent/                    # Agent æµ‹è¯•
â”‚   â”œâ”€â”€ tools/                    # å·¥å…·æµ‹è¯•
â”‚   â””â”€â”€ integration/              # é›†æˆæµ‹è¯•
â”‚
â”œâ”€â”€ pyproject.toml                # ğŸ“¦ é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ env.example                   # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

---

## å››å¤§ Agentic AI èŒƒå¼å®ç°

### 1. è§„åˆ’ (Planning) ğŸ¯

**å®ç°æ–¹å¼**ï¼šDeepAgents å†…ç½®çš„ `write_todos` / `read_todos` å·¥å…·

**ä»£ç ä½ç½®**ï¼š`src/agent/prompts.py` - MASTER_AGENT_SYSTEM_PROMPT

```python
# æç¤ºè¯ä¸­çš„è§„åˆ’æŒ‡å¯¼
"""
**è§„åˆ’æ­¥éª¤**ï¼š
1. **ç†è§£ç”¨æˆ·æ„å›¾**: æ˜ç¡®ç”¨æˆ·å…³æ³¨çš„é¢†åŸŸã€æ—¶é—´èŒƒå›´ã€æœŸæœ›çš„æŠ¥å‘Šæ·±åº¦
2. **ä»»åŠ¡åˆ†è§£**: ä½¿ç”¨ `write_todos` å·¥å…·åˆ›å»ºè¯¦ç»†çš„ä»»åŠ¡æ¸…å•
3. **åŠ¨æ€è°ƒæ•´**: æ ¹æ®æ‰§è¡Œæƒ…å†µï¼Œéšæ—¶ä½¿ç”¨ `write_todos` æ·»åŠ ã€ä¿®æ”¹æˆ–æ ‡è®°å®Œæˆä»»åŠ¡
"""
```

**å…¸å‹ä»»åŠ¡æ¸…å•**ï¼š
```
- [pending] è°ƒç”¨ query_planner åˆ†æç”¨æˆ·éœ€æ±‚å¹¶ç”Ÿæˆæœç´¢æŸ¥è¯¢
- [pending] æ‰§è¡Œæœç´¢ï¼ˆä½¿ç”¨ query_planner æä¾›çš„æŸ¥è¯¢ï¼‰
- [pending] åæ€æ£€ç´¢ç»“æœè´¨é‡
- [pending] ç­›é€‰é«˜è´¨é‡å†…å®¹ï¼ˆå¯ä¿¡åº¦ > 0.6ï¼‰
- [pending] å¯¹æ¯æ¡å…¥é€‰å†…å®¹æ´¾ç”Ÿä¸“å®¶åˆ†æ
- [pending] æ•´åˆæ‰€æœ‰åˆ†æç»“æœ
- [pending] ç”Ÿæˆæœ€ç»ˆ Markdown æŠ¥å‘Š
```

---

### 2. åæ€ (Reflection) ğŸ”

**å®ç°æ–¹å¼**ï¼šç³»ç»Ÿæç¤ºè¯ä¸­å®šä¹‰çš„åæ€æ£€æŸ¥ç‚¹

**ä»£ç ä½ç½®**ï¼š`src/agent/prompts.py` - åæ€æ£€æŸ¥ç‚¹éƒ¨åˆ†

**ä¸‰ä¸ªå…³é”®æ£€æŸ¥ç‚¹**ï¼š

| æ£€æŸ¥ç‚¹ | è§¦å‘æ—¶æœº | æ£€æŸ¥å†…å®¹ | è°ƒæ•´ç­–ç•¥ |
|--------|---------|---------|---------|
| **æ£€æŸ¥ç‚¹ 1** | æœç´¢å | ç»“æœæ•°é‡ã€è¦†ç›–é¢ã€è´¨é‡ | å†æ¬¡è°ƒç”¨ query_planner è°ƒæ•´æŸ¥è¯¢ |
| **æ£€æŸ¥ç‚¹ 2** | ç­›é€‰å | é€šè¿‡æ•°é‡ã€å¯ä¿¡åº¦åˆ†å¸ƒã€å¤šæ ·æ€§ | è°ƒæ•´ç­›é€‰æ ‡å‡†æˆ–è¡¥å……æœç´¢ |
| **æ£€æŸ¥ç‚¹ 3** | åˆ†æå | ä¸“å®¶ç»“è®ºä¸€è‡´æ€§ã€ä¿¡æ¯å®Œæ•´æ€§ | è¦æ±‚ä¸“å®¶è¡¥å……æˆ–é‡æ–°åˆ†æ |

**åæ€è¾“å‡ºç¤ºä¾‹**ï¼š
```markdown
# åæ€æ£€æŸ¥ç‚¹ 1 - æœç´¢ç»“æœè¯„ä¼°

## è¯„ä¼°ç»“æœ
- æœç´¢ç»“æœæ•°é‡: 12 æ¡
- è¦†ç›–æ¥æº: 5 ä¸ªä¸åŒç½‘ç«™
- è´¨é‡è¯„ä¼°: æœ‰ 3 æ¡å¯èƒ½æ˜¯å¹¿å‘Šå†…å®¹

## è°ƒæ•´ç­–ç•¥
éœ€è¦è¡¥å……æœç´¢ï¼šæ·»åŠ  "å­¦æœ¯è®ºæ–‡" è§’åº¦çš„æŸ¥è¯¢
```

---

### 3. å·¥å…·ä½¿ç”¨ (Tool Use) ğŸ› ï¸

**å®ç°æ–¹å¼**ï¼šè‡ªå®šä¹‰ LangChain å·¥å…· + DeepAgents å†…ç½®å·¥å…·

**ä»£ç ä½ç½®**ï¼š`src/tools/` ç›®å½•

#### è‡ªå®šä¹‰å·¥å…·åˆ—è¡¨

| å·¥å…·å | æ–‡ä»¶ | åŠŸèƒ½ | å‚æ•° |
|--------|------|------|------|
| `internet_search` | search.py | Tavily æœç´¢ | query, max_results, topic |
| `fetch_page` | scraper.py | ç½‘é¡µå†…å®¹æŠ“å– | url, max_length |
| `evaluate_credibility` | evaluator.py | æ¥æºå¯ä¿¡åº¦è¯„ä¼° | url, title |
| `evaluate_relevance` | evaluator.py | å†…å®¹ç›¸å…³æ€§è¯„ä¼° | content, domain, query |

#### å·¥å…·å®ç°ç¤ºä¾‹ (search.py)

```python
@tool
def internet_search(
    query: str,
    max_results: int = 5,
    topic: Optional[str] = None,
) -> List[Dict[str, Any]]:
    """
    Search the internet for relevant news and information.
    
    Args:
        query: The search query string
        max_results: Maximum number of results (default: 5, max: 10)
        topic: Optional topic hint ("news", "general")
        
    Returns:
        List of search results with title, url, content, source, score
    """
    client = TavilyClient(api_key=os.getenv("TAVILY_API_KEY"))
    response = client.search(query=query, max_results=max_results, ...)
    return [transform_result(item) for item in response["results"]]
```

#### DeepAgents å†…ç½®å·¥å…·

- `write_todos` / `read_todos`ï¼šä»»åŠ¡ç®¡ç†
- `write_file` / `read_file`ï¼šæ–‡ä»¶è¯»å†™
- `ls` / `grep`ï¼šæ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- `task()`ï¼šæ´¾å‘å­ Agent

---

### 4. å¤šæ™ºèƒ½ä½“åä½œ (Multi-Agent Collaboration) ğŸ‘¥

**å®ç°æ–¹å¼**ï¼šDeepAgents çš„ `task()` å‡½æ•°æ´¾å‘ä¸“å®¶å­ Agent

**ä»£ç ä½ç½®**ï¼š`src/agent/subagents.py`

#### ä¸“å®¶å­ Agent æ¶æ„

```
                    MasterAgent
                         â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              â”‚              â”‚
          â–¼              â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚query_plan â”‚  â”‚summarizer â”‚  â”‚fact_check â”‚
    â”‚   ä¸“å®¶     â”‚  â”‚   ä¸“å®¶     â”‚  â”‚   ä¸“å®¶     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚              â”‚              â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚expert_super-  â”‚
                 â”‚   visor       â”‚ â—„â”€â”€ å®¡æ ¸æ‰€æœ‰ä¸“å®¶è¾“å‡º
                 â”‚   (ä¸»ç®¡)       â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6 ä¸ªä¸“å®¶è§’è‰²

| ä¸“å®¶å | è§’è‰² | å¯ç”¨å·¥å…· | æ¨¡å‹é…ç½® |
|--------|------|---------|---------|
| `query_planner` | æŸ¥è¯¢è§„åˆ’ | æ— ï¼ˆçº¯æ¨ç†ï¼‰ | gpt-4o (æ¸©åº¦ 0.1) |
| `summarizer` | æ‘˜è¦æå– | æ—  | gpt-4o-mini (æ¸©åº¦ 0.0) |
| `fact_checker` | äº‹å®æ ¸æŸ¥ | `internet_search` | gpt-4o (æ¸©åº¦ 0.0) |
| `researcher` | èƒŒæ™¯ç ”ç©¶ | `internet_search` | gpt-4o (æ¸©åº¦ 0.2) |
| `impact_assessor` | å½±å“è¯„ä¼° | æ—  | gpt-4o (æ¸©åº¦ 0.3) |
| `expert_supervisor` | å®¡æ ¸æ•´åˆ | æ—  | gpt-4o (æ¸©åº¦ 0.1) |

#### å­ Agent é…ç½®ç¤ºä¾‹ (subagents.py)

```python
def get_subagent_configs(config: AppConfig) -> List[Dict[str, Any]]:
    return [
        {
            "name": "query_planner",
            "description": "åˆ†æç”¨æˆ·éœ€æ±‚ï¼Œç”Ÿæˆå¤šç»´åº¦æœç´¢æŸ¥è¯¢ï¼Œå¹¶åæ€æŸ¥è¯¢è´¨é‡",
            "system_prompt": QUERY_PLANNER_PROMPT,
            "tools": [],  # çº¯æ¨ç†ï¼Œæ— éœ€å·¥å…·
            "model": create_chat_model(query_planner_model_config, config),
        },
        {
            "name": "fact_checker",
            "description": "æ ¸æŸ¥å…³é”®äº‹å®å£°æ˜çš„çœŸå®æ€§",
            "system_prompt": FACT_CHECKER_PROMPT,
            "tools": [internet_search],  # éœ€è¦æœç´¢èƒ½åŠ›éªŒè¯äº‹å®
            "model": create_chat_model(fact_checker_model_config, config),
        },
        # ... å…¶ä»–ä¸“å®¶
    ]
```

#### æ´¾å‘ä¸“å®¶ç¤ºä¾‹

```python
# MasterAgent è°ƒç”¨ï¼ˆåœ¨è¿è¡Œæ—¶ç”± LLM å†³å®šï¼‰
task("summarizer", "æå–è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒè¦ç‚¹: /filtered/article_001.txt")
task("fact_checker", "æ ¸æŸ¥æ–‡ç« ä¸­çš„å…³é”®æ•°æ®å’Œå£°æ˜: /filtered/article_001.txt")
task("researcher", "è¡¥å……ç›¸å…³èƒŒæ™¯ä¿¡æ¯: /filtered/article_001.txt")
task("impact_assessor", "è¯„ä¼°è¿™ä¸ªäº‹ä»¶çš„æ½œåœ¨å½±å“: /filtered/article_001.txt")
```

---

## å·¥ä½œæµç¨‹è¯¦è§£

### å®Œæ•´æ‰§è¡Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 1: æ¥æ”¶ä»»åŠ¡                                                         â”‚
â”‚                                                                         â”‚
â”‚ ç”¨æˆ·: "åˆ†æä»Šå¤©AIé¢†åŸŸçš„çƒ­ç‚¹"                                              â”‚
â”‚                                                                         â”‚
â”‚ MasterAgent ç†è§£ï¼š                                                       â”‚
â”‚ - é¢†åŸŸï¼šAI / äººå·¥æ™ºèƒ½                                                    â”‚
â”‚ - æ—¶é—´ï¼šä»Šå¤© (2024-12-15)                                                â”‚
â”‚ - æ·±åº¦ï¼šçƒ­ç‚¹åˆ†æï¼ˆä¸åªæ˜¯æ‘˜è¦ï¼‰                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 2: è§„åˆ’ä»»åŠ¡ (write_todos)                                           â”‚
â”‚                                                                         â”‚
â”‚ [pending] è°ƒç”¨ query_planner ç”Ÿæˆæœç´¢æŸ¥è¯¢                                 â”‚
â”‚ [pending] æ‰§è¡Œæœç´¢                                                       â”‚
â”‚ [pending] åæ€æ£€ç´¢ç»“æœè´¨é‡                                               â”‚
â”‚ [pending] ç­›é€‰é«˜è´¨é‡å†…å®¹                                                 â”‚
â”‚ [pending] æ´¾ç”Ÿä¸“å®¶åˆ†æ                                                   â”‚
â”‚ [pending] æ•´åˆåˆ†æç»“æœ                                                   â”‚
â”‚ [pending] ç”ŸæˆæŠ¥å‘Š                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 3: æŸ¥è¯¢è§„åˆ’ (task â†’ query_planner)                                  â”‚
â”‚                                                                         â”‚
â”‚ query_planner è¾“å‡ºï¼š                                                     â”‚
â”‚ {                                                                       â”‚
â”‚   "queries": [                                                          â”‚
â”‚     {"query": "AI Agent 2024-12-15 æœ€æ–°è¿›å±•", "priority": "high"},       â”‚
â”‚     {"query": "OpenAI ChatGPT æ›´æ–° 12æœˆ", "priority": "high"},           â”‚
â”‚     {"query": "AI åˆ›ä¸šå…¬å¸ èèµ„ 2024", "priority": "medium"}             â”‚
â”‚   ],                                                                    â”‚
â”‚   "reflection": "æŸ¥è¯¢è¦†ç›–æŠ€æœ¯ã€äº§å“ã€å•†ä¸šä¸‰ä¸ªç»´åº¦..."                       â”‚
â”‚ }                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 4: æ‰§è¡Œæœç´¢ (internet_search)                                       â”‚
â”‚                                                                         â”‚
â”‚ æœç´¢ 1: "AI Agent 2024-12-15 æœ€æ–°è¿›å±•" â†’ 5 æ¡ç»“æœ                         â”‚
â”‚ æœç´¢ 2: "OpenAI ChatGPT æ›´æ–° 12æœˆ" â†’ 5 æ¡ç»“æœ                             â”‚
â”‚ æœç´¢ 3: "AI åˆ›ä¸šå…¬å¸ èèµ„ 2024" â†’ 5 æ¡ç»“æœ                                â”‚
â”‚                                                                         â”‚
â”‚ åˆè®¡: 15 æ¡å€™é€‰ç»“æœ                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 5: åæ€æ£€æŸ¥ç‚¹ 1 - æœç´¢ç»“æœè¯„ä¼°                                        â”‚
â”‚                                                                         â”‚
â”‚ âœ“ æ•°é‡å……è¶³: 15 æ¡ > 10 æ¡                                                â”‚
â”‚ âœ“ æ¥æºå¤šæ ·: æ¶‰åŠ 8 ä¸ªä¸åŒç½‘ç«™                                             â”‚
â”‚ âš  è´¨é‡æç¤º: 2 æ¡å¯èƒ½æ˜¯å¹¿å‘Š                                               â”‚
â”‚                                                                         â”‚
â”‚ å†³ç­–: ç»§ç»­æ‰§è¡Œï¼Œåœ¨ç­›é€‰é˜¶æ®µè¿‡æ»¤ä½è´¨é‡å†…å®¹                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 6: å†…å®¹ç­›é€‰ (evaluate_credibility + evaluate_relevance)             â”‚
â”‚                                                                         â”‚
â”‚ å¯¹æ¯æ¡ç»“æœï¼š                                                             â”‚
â”‚ - å¯ä¿¡åº¦è¯„ä¼°: 0.0 ~ 1.0 (é˜ˆå€¼ 0.6)                                       â”‚
â”‚ - ç›¸å…³æ€§è¯„ä¼°: 0.0 ~ 1.0 (é˜ˆå€¼ 0.5)                                       â”‚
â”‚                                                                         â”‚
â”‚ ç­›é€‰ç»“æœ: 5 æ¡é€šè¿‡ (å¯ä¿¡åº¦ > 0.6 ä¸” ç›¸å…³æ€§ > 0.5)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 7: åæ€æ£€æŸ¥ç‚¹ 2 - ç­›é€‰ç»“æœè¯„ä¼°                                        â”‚
â”‚                                                                         â”‚
â”‚ âœ“ é€šè¿‡æ•°é‡: 5 æ¡ (åœ¨ 3-5 æ¡åˆç†èŒƒå›´)                                      â”‚
â”‚ âœ“ å¯ä¿¡åº¦åˆ†å¸ƒ: å¹³å‡ 0.78                                                  â”‚
â”‚ âœ“ æ— æ˜æ˜¾é‡å¤                                                            â”‚
â”‚                                                                         â”‚
â”‚ å†³ç­–: è¿›å…¥æ·±åº¦åˆ†æé˜¶æ®µ                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 8: æ·±åº¦åˆ†æ (task â†’ å„ä¸“å®¶)                                          â”‚
â”‚                                                                         â”‚
â”‚ å¯¹æ¯æ¡å…¥é€‰å†…å®¹å¹¶è¡Œæ´¾å‘ï¼š                                                   â”‚
â”‚ â”œâ”€â”€ summarizer: æå–æ ¸å¿ƒè¦ç‚¹                                             â”‚
â”‚ â”œâ”€â”€ fact_checker: æ ¸æŸ¥å…³é”®äº‹å®                                           â”‚
â”‚ â”œâ”€â”€ researcher: è¡¥å……èƒŒæ™¯ä¿¡æ¯                                             â”‚
â”‚ â””â”€â”€ impact_assessor: è¯„ä¼°å½±å“                                            â”‚
â”‚                                                                         â”‚
â”‚ å„ä¸“å®¶ç‹¬ç«‹åˆ†æï¼Œç»“æœä¿å­˜åˆ° /analysis/{expert_name}/                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 9: å®¡æ ¸æ•´åˆ (task â†’ expert_supervisor)                              â”‚
â”‚                                                                         â”‚
â”‚ expert_supervisor æ£€æŸ¥ï¼š                                                 â”‚
â”‚ - äº‹å®ä¸€è‡´æ€§: âœ“ å„ä¸“å®¶æ•°æ®ä¸€è‡´                                            â”‚
â”‚ - é€»è¾‘ä¸€è‡´æ€§: âœ“ ç»“è®ºè‡ªæ´½                                                 â”‚
â”‚ - å®Œæ•´æ€§: âœ“ æ— æ˜æ˜¾é—æ¼                                                   â”‚
â”‚                                                                         â”‚
â”‚ å®¡æ ¸ç»“æœ: é€šè¿‡ï¼Œå¯ç”ŸæˆæŠ¥å‘Š                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤ 10: ç”ŸæˆæŠ¥å‘Š                                                        â”‚
â”‚                                                                         â”‚
â”‚ # ğŸ“° AI çƒ­ç‚¹èµ„è®¯åˆ†ææŠ¥å‘Š                                                 â”‚
â”‚                                                                         â”‚
â”‚ **ç”Ÿæˆæ—¶é—´**: 2024-12-15 14:30                                          â”‚
â”‚ **åˆ†æèŒƒå›´**: AIé¢†åŸŸä»Šæ—¥çƒ­ç‚¹                                              â”‚
â”‚                                                                         â”‚
â”‚ ## ğŸ”¥ ä»Šæ—¥çƒ­ç‚¹æ¦‚è§ˆ                                                       â”‚
â”‚ ä»Šå¤©AIé¢†åŸŸæœ€é‡è¦çš„åŠ¨æ€åŒ…æ‹¬...                                             â”‚
â”‚                                                                         â”‚
â”‚ ## ğŸ“‹ è¯¦ç»†è§£è¯»                                                           â”‚
â”‚ ### 1. [çƒ­ç‚¹æ ‡é¢˜]                                                       â”‚
â”‚ **æ¥æº**: xxx | **å¯ä¿¡åº¦**: â­â­â­â­â­                                      â”‚
â”‚ ...                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/news-report-agent.git
cd news-report-agent

# ä½¿ç”¨ uv å®‰è£…ä¾èµ–
uv sync
```

### 2. é…ç½® API Keys

```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶
# è‡³å°‘éœ€è¦é…ç½®ï¼š
OPENAI_API_KEY=sk-xxxxx      # æˆ– Azure OpenAI é…ç½®
TAVILY_API_KEY=tvly-xxxxx    # æœç´¢åŠŸèƒ½å¿…éœ€
```

### 3. éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥é…ç½®
uv run python check_env.py

# è¿è¡Œæµ‹è¯•
uv run pytest tests/ -v
```

### 4. å¼€å§‹ä½¿ç”¨

```bash
# å‘½ä»¤è¡Œæ–¹å¼
uv run python -m cli.main "ä»Šå¤©AIé¢†åŸŸæœ‰ä»€ä¹ˆé‡è¦è¿›å±•"

# æŒ‡å®šé¢†åŸŸ
uv run python -m cli.main --domain technology "æœ€æ–°ç§‘æŠ€æ–°é—»"

# è¾“å‡ºåˆ°æ–‡ä»¶
uv run python -m cli.main --output ./reports/today.md "åˆ†æOpenAIæœ€æ–°åŠ¨æ€"

# è¯¦ç»†æ—¥å¿—
uv run python -m cli.main --verbose "åˆ†æç‰¹æ–¯æ‹‰è‚¡ä»·"
```

### 5. Python API æ–¹å¼

```python
from src.agent import create_news_agent

# åˆ›å»º Agent
agent = create_news_agent()

# æ‰§è¡ŒæŸ¥è¯¢
result = agent.invoke({
    "messages": [{"role": "user", "content": "åˆ†æä»Šå¤©AIé¢†åŸŸçš„çƒ­ç‚¹"}]
})

# è·å–ç»“æœ
print(result["messages"][-1].content)
```

---

## æ‰©å±•å¼€å‘æŒ‡å—

### æ·»åŠ è‡ªå®šä¹‰å·¥å…·

```python
# 1. åœ¨ src/tools/ åˆ›å»ºæ–°æ–‡ä»¶ my_tool.py
from langchain_core.tools import tool

@tool
def my_custom_tool(param: str) -> str:
    """
    å·¥å…·æè¿°ï¼ˆä¼šè¢« LLM çœ‹åˆ°ï¼‰
    
    Args:
        param: å‚æ•°æè¿°
        
    Returns:
        è¿”å›å€¼æè¿°
    """
    # å®ç°é€»è¾‘
    return f"å¤„ç†ç»“æœ: {param}"

# 2. åœ¨ src/tools/__init__.py å¯¼å‡º
from .my_tool import my_custom_tool
__all__ = [..., "my_custom_tool"]

# 3. åœ¨åˆ›å»º Agent æ—¶ä¼ å…¥
from src.agent import create_news_agent
from src.tools import my_custom_tool

agent = create_news_agent(additional_tools=[my_custom_tool])
```

### æ·»åŠ æ–°çš„ä¸“å®¶å­ Agent

ç¼–è¾‘ `src/agent/subagents.py`ï¼š

```python
# 1. å®šä¹‰ä¸“å®¶æç¤ºè¯
MY_EXPERT_PROMPT = """ä½ æ˜¯xxxä¸“å®¶ã€‚ä½ çš„ä»»åŠ¡æ˜¯...

## å·¥ä½œæµç¨‹
1. ...
2. ...

## è¾“å‡ºæ ¼å¼
```markdown
...
```
"""

# 2. åœ¨ get_subagent_configs() ä¸­æ·»åŠ é…ç½®
def get_subagent_configs(config: AppConfig) -> List[Dict[str, Any]]:
    return [
        # ... ç°æœ‰ä¸“å®¶ ...
        {
            "name": "my_expert",
            "description": "ä¸“å®¶æè¿°ï¼ˆMasterAgent ç”¨äºå†³ç­–ä½•æ—¶è°ƒç”¨ï¼‰",
            "system_prompt": MY_EXPERT_PROMPT,
            "tools": [],  # æˆ– [internet_search] ç­‰
            "model": create_chat_model(config.model_for_role("master"), config),
        },
    ]
```

### è‡ªå®šä¹‰æ¨¡å‹é…ç½®

```python
from src.config import load_settings, ModelConfig, create_chat_model
from src.agent import create_news_agent

# åŠ è½½é…ç½®
config = load_settings()

# è‡ªå®šä¹‰æ¨¡å‹é…ç½®
custom_model_config = ModelConfig(
    model="gpt-4o",
    provider="openai",  # æˆ– "azure"
    temperature=0.5,
    max_tokens=4000,
)

# åˆ›å»ºè‡ªå®šä¹‰æ¨¡å‹
custom_model = create_chat_model(custom_model_config, config)

# ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å‹åˆ›å»º Agent
agent = create_news_agent(model_override=custom_model)
```

### æ·»åŠ æ–°çš„è¯„ä¼°ç»´åº¦

ç¼–è¾‘ `src/tools/evaluator.py`ï¼š

```python
@tool
def evaluate_timeliness(published_date: str, current_date: str) -> Dict[str, Any]:
    """
    è¯„ä¼°å†…å®¹çš„æ—¶æ•ˆæ€§ã€‚
    
    Args:
        published_date: å‘å¸ƒæ—¥æœŸ (ISO æ ¼å¼)
        current_date: å½“å‰æ—¥æœŸ (ISO æ ¼å¼)
        
    Returns:
        åŒ…å« score å’Œ reasons çš„å­—å…¸
    """
    from datetime import datetime
    
    pub = datetime.fromisoformat(published_date)
    cur = datetime.fromisoformat(current_date)
    days_old = (cur - pub).days
    
    if days_old <= 1:
        score = 1.0
        reasons = ["å†…å®¹éå¸¸æ–°é²œï¼ˆ1å¤©å†…ï¼‰"]
    elif days_old <= 7:
        score = 0.7
        reasons = [f"å†…å®¹è¾ƒæ–°ï¼ˆ{days_old}å¤©å‰ï¼‰"]
    else:
        score = max(0.1, 1.0 - days_old * 0.05)
        reasons = [f"å†…å®¹è¾ƒæ—§ï¼ˆ{days_old}å¤©å‰ï¼‰"]
    
    return {"score": score, "reasons": reasons}
```

---

## é…ç½®å‚è€ƒ

### ç¯å¢ƒå˜é‡

| å˜é‡å | å¿…éœ€ | æè¿° |
|--------|------|------|
| `OPENAI_API_KEY` | äºŒé€‰ä¸€ | OpenAI API å¯†é’¥ |
| `AZURE_OPENAI_API_KEY` | äºŒé€‰ä¸€ | Azure OpenAI API å¯†é’¥ |
| `AZURE_OPENAI_ENDPOINT` | Azure å¿…éœ€ | Azure ç«¯ç‚¹ URL |
| `AZURE_OPENAI_DEPLOYMENT_NAME` | Azure å¿…éœ€ | éƒ¨ç½²åç§° |
| `TAVILY_API_KEY` | âœ… | Tavily æœç´¢ API å¯†é’¥ |
| `NEWS_AGENT_FS_BASE` | âŒ | æ–‡ä»¶ç³»ç»ŸåŸºç¡€ç›®å½• (é»˜è®¤ `./data`) |

### é»˜è®¤æ¨¡å‹é…ç½®

| è§’è‰² | æ¨¡å‹ | æ¸©åº¦ | è¯´æ˜ |
|------|------|------|------|
| master | gpt-4o | 0.1 | ä¸» Agentï¼Œéœ€è¦å¼ºæ¨ç† |
| summarizer | gpt-4o-mini | 0.0 | æ‘˜è¦æå–ï¼Œè¿½æ±‚ç¨³å®š |
| fact_checker | gpt-4o | 0.0 | äº‹å®æ ¸æŸ¥ï¼Œè¿½æ±‚å‡†ç¡® |
| researcher | gpt-4o | 0.2 | èƒŒæ™¯ç ”ç©¶ï¼Œé€‚åº¦åˆ›é€  |
| impact_assessor | gpt-4o | 0.3 | å½±å“è¯„ä¼°ï¼Œéœ€è¦æ¨æµ‹ |

---

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæœç´¢ç»“æœä¸ºç©ºï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. `TAVILY_API_KEY` æ˜¯å¦æ­£ç¡®è®¾ç½®
2. æŸ¥è¯¢æ˜¯å¦å¤ªå…·ä½“/å¤ªå®½æ³›
3. ç½‘ç»œæ˜¯å¦æ­£å¸¸

### Q: å¦‚ä½•å‡å°‘ Token æ¶ˆè€—ï¼Ÿ

A: 
1. ä½¿ç”¨ `gpt-4o-mini` æ›¿ä»£ `gpt-4o`ï¼ˆä¿®æ”¹ `config.py`ï¼‰
2. å‡å°‘ `max_results` å‚æ•°
3. å‡å°‘æ´¾å‘çš„ä¸“å®¶æ•°é‡

### Q: å¦‚ä½•æ·»åŠ ä¸­æ–‡å‹å¥½çš„æœç´¢æºï¼Ÿ

A: å¯ä»¥è€ƒè™‘ï¼š
1. åœ¨ `search.py` ä¸­æ·»åŠ  Bing Search API æ”¯æŒ
2. æ·»åŠ å›½å†…æ–°é—»èšåˆ API
3. åœ¨ `evaluator.py` ä¸­æ·»åŠ æ›´å¤šä¸­æ–‡å¯ä¿¡æ¥æº

---

## è®¸å¯è¯

MIT License

---

*æœ¬æ–‡æ¡£ç”± AI è¾…åŠ©ç”Ÿæˆï¼Œæœ€åæ›´æ–°äº 2024-12-15*

